@using ClothesDG.Core.ViewModels.Products;
@model ProductViewModel

<div class="modal-content mg-quick-view-modal-content">
    <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <div class="row gx-5">
            <div class="col-md-6">
                <div class="mg-product-slider-outer">
                    <div class="mg-product-slider-main">
                        <div class="mg-product-slider mg-quick-view-slider">

                            @foreach (var image in Model.Images)
                            {
                                <div>
                                    <img class="img-fluid" src="@image" alt="" />
                                </div>
                            }
                        </div>
                        <div class="mg-product-slider-thumb mg-quick-view-slider-thumb">
                            @foreach (var image in Model.Images)
                            {
                                <div>
                                    <img class="img-fluid" src="@image" alt="" />
                                </div>
                            }
                        </div>
                    </div>
                </div>
                <!--Product Slider Script-->
            </div>
            <div class="col-md-6">
                <div class="mg-product-page-details-outer">
                    <h2 class="mg-product-page-product-tittle">@Model.Category</h2>
                    <div class="row gx-2 align-items-end">
                        <div class="col-9">
                            <div class="mg-product-page-product-price">
                                <span class="mg-price">@Model.Price ЛВ</span> <span class="mg-product-page-regular-price"><del>@* $223 *@</del></span> <span class="mg-product-page-small-text">@* 13% off *@</span>
                            </div>
                        </div>
                        <div class="col-3 text-end">
                            @if (Model.IsProductInStock)
                            {
                                <div class="mg-stock-text" style="white-space: nowrap;">В наличност</div>
                            }
                            else
                            {
                                <div class="mg-stock-text out-stock">Изчерпан</div>
                            }
                        </div>
                    </div>
                   @*  <div class="mg-variant-pannel mg-product-page-sec-spacing">
                        <div class="mg-product-page-small-heading">Colors</div>
                        <div class="mg-color-variant-outer">
                            <ul>
                                <li class="mg-active-variant"><a style="background-color: #242424;" class="mg-color-variant" href="javascript:void(0);"></a></li>
                                <li><a style="background-color: #CD5C5C;" class="mg-color-variant" href="javascript:void(0);"></a></li>
                                <li><a style="background-color: #6495ED;" class="mg-color-variant" href="javascript:void(0);"></a></li>
                                <li><a style="background-color: #483D8B;" class="mg-color-variant" href="javascript:void(0);"></a></li>
                                <li><a style="background-color: #CD5C5C;" class="mg-color-variant" href="javascript:void(0);"></a></li>
                            </ul>
                        </div>
                    </div> *@
                    @if(Model.IsProductInStock)
                    {
                        <div class="mg-product-page-sec-spacing">
                            <div class="mg-variant-pannel">
                                <div class="mg-product-page-small-heading">Size</div>
                                <div class="mg-size-variant-outer">
                                    <ul>
                                        @foreach (var size in Model.ProductSizes)
                                        {
                                            <li><a href="#">@size</a></li>
                                        }
                                    </ul>
                                </div>
                                <span id="size-error-message" style="color: red;"></span>
                            </div>
                        </div>
                    }
                    <div class="clearfix"></div>
                    @if (Model.IsProductInStock)
                    {
                        <div class="mg-variant-pannel mg-product-page-sec-spacing">
                            <div class="mg-product-page-small-heading">Quantity</div>
                            <div class="mg-quantity-variant-outer">
                                <div class="mg-cart-quantiy-outer">
                                    <button onclick="decrementQuantity()" class="mg-quantity-step-btn"><i class="fa fa-minus" aria-hidden="true"></i></button>
                                    <input class="mg-cart-quantity" min="1" name="quantity" value="1" type="number">
                                    <button onclick="incrementQuantity()" class="mg-quantity-step-btn"><i class="fa fa-plus" aria-hidden="true"></i></button>
                                </div>
                            </div>
                            <span id="quantity-error-message" style="color: red;"></span>
                        </div>
                        <br>
                        <div class="col-8">
                            <button class="btn mg-btn mg-black-btn mg-form-btn mg-light-bg-btn" onclick="handleAddToBagClick(@Model.Id)"><span class="mg-btn-icon"><img src="assets/images/product-bag.svg" alt="" /></span>Добави в чантата</button>
                            @Html.AntiForgeryToken()
                        </div>
                    }                 
                    <div class="mg-quick-popup-more-info-btn text-center">
                        <a asp-controller="Products" asp-action="ProductDetails" asp-route-id="@Model.Id">Вижте пълната информация за продукта</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
