@using Clothing_Store.Core.ViewModels.Products;
@using Clothing_Store.Core.ViewModels.Shared;

@model PaginatedViewModel<ProductViewModel>


@{
    ViewData["Title"] = "Всички мъжки продукти";
}

@await Html.PartialAsync("_AppPartial")

@section Scripts {
    <script src="~/js/loadModalProductDetails.js" asp-append-version="true"></script>
    <script src="~/js/filterProducts.js" asp-append-version="true"></script>
    <script src="~/js/addToBag.js" asp-append-version="true"></script>
    <script>
        function handleAddToBagClick(productId) {
            const page = '@ViewData["CurrentPage"]';
            const sorting = '@ViewData["CurrentSort"]';
            const productName = '@ViewData["ProductName"]';
            const minPrice = '@Model.MinPrice';
            const maxPrice = '@Model.MaxPrice';

            addProductToBag(productId, page, sorting, productName, minPrice, maxPrice, selectedSizes);
        }
    </script>
}
