@using Clothing_Store.Core.ViewModels.Products;
@using Clothing_Store.Core.ViewModels.Shared;

@model PaginatedViewModel<ProductViewModel>

@{
    this.ViewData["Title"] = "Намерени продукти";
}

@await Html.PartialAsync("_AppPartial");

@section Scripts {
    <script src="~/js/loadModalProductDetails.js" asp-append-version="true"></script>
    <script src="~/js/filterProducts.js" asp-append-version="true"></script>
    <script src="~/js/addToBag.js" asp-append-version="true"></script>
    <script>
        var page = '@ViewData["CurrentPage"]';
        var sorting = '@ViewData["CurrentSort"]';
        var selectedProducts = '@Html.Raw(ViewData["CurrentSelectedProducts"])'
        var selectedPrice = '@ViewData["CurrentSelectedPrice"]';
        var selectedSizes = '@ViewData["CurrentSelectedSizes"]';
        var searchBy = '@Html.Raw(ViewData["CurrentSearchWord"])'

        function handleAddToBagClick(productId) {
            addProductToBag(productId, page, sorting, selectedProducts, selectedPrice, selectedSizes, searchBy);
        }
    </script>
}